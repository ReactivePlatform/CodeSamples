<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="description" content="docs">
<meta name="generator" content="Paradox, paradox-material-theme=0.4.0, mkdocs-material=2.2.2">

<meta name="lang:clipboard.copy" content="Copy to clipboard">
<meta name="lang:clipboard.copied" content="Copied to clipboard">
<meta name="lang:search.result.none" content="No matching documents">
<meta name="lang:search.result.one" content="1 matching document">
<meta name="lang:search.result.other" content="# matching documents">
<meta name="lang:search.language" content="">
<meta name="lang:search.tokenizer" content="[\s\-]+">


<meta name="description" content="docs">
<link rel="shortcut icon" href="../assets/images/favicon.png">
<title>第14章——资源管理模式 · </title>
<link rel="stylesheet" href="../assets/stylesheets/application.7a4cdee3.css">
<link rel="stylesheet" href="../lib/material__tabs/dist/mdc.tabs.min.css">
<link rel="stylesheet" href="../lib/prettify/prettify.css">
<script src="../lib/modernizr/modernizr.min.js"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
<style>
body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}
code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}
</style>
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../assets/stylesheets/paradox-material-theme.css">
</head>
<body
>
<input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
<input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
<label class="md-overlay" data-md-component="overlay" for="drawer"></label>
<header class="md-header" data-md-component="header">
<nav class="md-header-nav md-grid">
<div class="md-flex">
<div class="md-flex__cell md-flex__cell--shrink">
<a href="../index.html" title="" class="md-header-nav__button md-logo">
<i class="md-icon">local_library</i>
</a>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
</div>
<div class="md-flex__cell md-flex__cell--stretch">
<div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
<span class="md-header-nav__topic">
</span>
<span class="md-header-nav__topic">
第14章——资源管理模式
</span>
</div>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="search"></label>
<div class="md-search__inner">
<form class="md-search__form" name="search">
<input type="text" class="md-search__input" name="query" required placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
<label class="md-icon md-search__icon" for="search"></label>
<button type="reset" class="md-icon md-search__icon" data-md-component="reset">&#xE5CD;</button>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix>
<div class="md-search-result" data-md-component="result">
<div class="md-search-result__meta">
Type to start searching
</div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>

</div>
</div>
</nav>
</header>

<div class="md-container">
<main class="md-main">
<div class="md-main__inner md-grid" data-md-component="container">
<div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--primary" data-md-level="0" style="visibility: hidden">
<label class="md-nav__title md-nav__title--site" for="drawer">
<span class="md-nav__button md-logo">
<i class="md-icon">local_library</i>
</span>
<a href="../index.html" title="">
</a>
</label>
<ul>
  <li><a href="../contents.html" class="page">目录</a>
  <ul>
    <li><a href="../abstract.html" class="page">内容提要</a></li>
    <li><a href="../part1.html" class="page">第一部分 简介</a></li>
    <li><a href="../part2.html" class="page">第二部分 微言大义</a></li>
    <li><a href="../part3.html" class="page">第三部分 设计模式</a></li>
    <li><a href="../appendix-01/index.html" class="page">附录A——图解反应式系统</a></li>
    <li><a href="../appendix-02/index.html" class="page">附录B——图解示例</a></li>
    <li><a href="../appendix-03/index.html" class="page">附录C——反应式宣言</a></li>
    <li><a href="../extras.html" class="page">额外指引</a></li>
    <li><a href="../errata.html" class="page">勘误</a></li>
  </ul></li>
</ul>
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="toc">Table of contents</label>
<ul>
  <li><a href="../chapter-14/index.html#第14章-资源管理模式" class="header">第14章——资源管理模式</a>
  <ul>
    <li><a href="../chapter-14/index.html#14-1-资源封装模式" class="header">14.1 资源封装模式</a></li>
    <li><a href="../chapter-14/index.html#14-2-资源借贷模式" class="header">14.2 资源借贷模式</a></li>
    <li><a href="../chapter-14/index.html#14-3-复杂命令模式" class="header">14.3 复杂命令模式</a></li>
    <li><a href="../chapter-14/index.html#14-5-托管阻塞模式" class="header">14.5 托管阻塞模式</a></li>
  </ul></li>
</ul>
</nav>

<div class="md-nav__title--site md-version" title="Version">
<i class="md-icon">label_outline</i> 1.0.0
</div>
</nav>

</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="toc">Table of contents</label>
<ul>
  <li><a href="../chapter-14/index.html#第14章-资源管理模式" class="header">第14章——资源管理模式</a>
  <ul>
    <li><a href="../chapter-14/index.html#14-1-资源封装模式" class="header">14.1 资源封装模式</a></li>
    <li><a href="../chapter-14/index.html#14-2-资源借贷模式" class="header">14.2 资源借贷模式</a></li>
    <li><a href="../chapter-14/index.html#14-3-复杂命令模式" class="header">14.3 复杂命令模式</a></li>
    <li><a href="../chapter-14/index.html#14-5-托管阻塞模式" class="header">14.5 托管阻塞模式</a></li>
  </ul></li>
</ul>
</nav>

</div>
</div>
</div>
<div class="md-content">
<article class="md-content__inner md-typeset">
<div class="md-content__searchable">
<h1><a href="#第14章-资源管理模式" name="第14章-资源管理模式" class="anchor"><span class="anchor-link"></span></a>第14章——资源管理模式</h1>
<p>大多数系统都面临着一个共同的问题，那就是你需要管理或展现资源：文件存储空间、计算能力、对数据库或 Web API 的访问、如打印机和读卡器等物理设备，诸如此类。你所创建的某个组件，可能会独自为系统的其余部分提供某种资源，又或者你可能需要将其与外部资源整合。在这一章中，我们将讨论处理反应式应用程序中资源的模式。我们将着重讨论以下几种模式：</p>
<h2><a href="#14-1-资源封装模式" name="14-1-资源封装模式" class="anchor"><span class="anchor-link"></span></a>14.1 资源封装模式</h2>
<blockquote>
  <p>代码清单 14-1 亚马逊EC2实例作为工作者节点</p>
</blockquote>
<pre class="prettyprint"><code class="language-java">public Instance startInstance(AWSCredentials credentials) {
  AmazonEC2Client amazonEC2Client = new AmazonEC2Client(credentials);

  RunInstancesRequest runInstancesRequest =
      new RunInstancesRequest()
          .withImageId(&quot;&quot;)
          .withInstanceType(&quot;m1.small&quot;)
          .withMinCount(1)
          .withMaxCount(1);

  RunInstancesResult runInstancesResult = amazonEC2Client.runInstances(runInstancesRequest);

  Reservation reservation = runInstancesResult.getReservation();
  List&lt;Instance&gt; instances = reservation.getInstances();

  // there will be exactly one instance in this list, otherwise
  // runInstances() would have thrown an exception
  return instances.get(0);
}
</code></pre><a href="https://github.com/ReactivePlatform/reactive-design-patterns-cn/tree/master/chapter14/src/main/java/chapter14/ResourceEncapsulation.java#L40-L59">Full source at GitHub</a>
<blockquote>
  <p>代码清单 14-2 将EC2节点提升到一个Future中，从而简化失败处理过程</p>
</blockquote>
<pre class="prettyprint"><code class="language-java">private ExecutionContext executionContext; // value from somewhere
private CircuitBreaker circuitBreaker; // value from somewhere

public Future&lt;Instance&gt; startInstanceAsync(AWSCredentials credentials) {
  Future&lt;Instance&gt; f =
      circuitBreaker.callWithCircuitBreaker(
          () -&gt; Futures.future(() -&gt; startInstance(credentials), executionContext));

  PartialFunction&lt;Throwable, Future&lt;Instance&gt;&gt; recovery =
      new PFBuilder&lt;Throwable, Future&lt;Instance&gt;&gt;()
          .match(
              AmazonClientException.class,
              AmazonClientException::isRetryable,
              ex -&gt; startInstanceAsync(credentials))
          .build();

  return f.recoverWith(recovery, executionContext);
}
</code></pre><a href="https://github.com/ReactivePlatform/reactive-design-patterns-cn/tree/master/chapter14/src/main/java/chapter14/ResourceEncapsulation.java#L63-L81">Full source at GitHub</a>
<blockquote>
  <p>代码清单 14-3 通过桥接客户端代码执行亚马逊的异步客户端</p>
</blockquote>
<pre class="prettyprint"><code class="language-java">public Future&lt;RunInstancesResult&gt; runInstancesAsync(
    RunInstancesRequest request, AmazonEC2Async client) {

  Promise&lt;RunInstancesResult&gt; promise = Futures.promise();
  client.runInstancesAsync(
      request,
      new AsyncHandler&lt;RunInstancesRequest, RunInstancesResult&gt;() {

        @Override
        public void onSuccess(RunInstancesRequest request, RunInstancesResult result) {
          promise.success(result);
        }

        @Override
        public void onError(Exception exception) {
          promise.failure(exception);
        }
      });
  return promise.future();
}
</code></pre><a href="https://github.com/ReactivePlatform/reactive-design-patterns-cn/tree/master/chapter14/src/main/java/chapter14/ResourceEncapsulation.java#L85-L105">Full source at GitHub</a>
<blockquote>
  <p>代码清单 14-4 关闭 EC2 实例</p>
</blockquote>
<pre class="prettyprint"><code class="language-java">public Future&lt;TerminateInstancesResult&gt; terminateInstancesAsync(
    AmazonEC2Client client, Instance... instances) {

  List&lt;String&gt; ids =
      Arrays.stream(instances).map(Instance::getInstanceId).collect(Collectors.toList());
  TerminateInstancesRequest request = new TerminateInstancesRequest(ids);

  Future&lt;TerminateInstancesResult&gt; f =
      circuitBreaker.callWithCircuitBreaker(
          () -&gt; Futures.future(() -&gt; client.terminateInstances(request), executionContext));

  PartialFunction&lt;Throwable, Future&lt;TerminateInstancesResult&gt;&gt; recovery =
      new PFBuilder&lt;Throwable, Future&lt;TerminateInstancesResult&gt;&gt;()
          .match(
              AmazonClientException.class,
              AmazonClientException::isRetryable,
              ex -&gt; terminateInstancesAsync(client, instances))
          .build();

  return f.recoverWith(recovery, executionContext);
}
</code></pre><a href="https://github.com/ReactivePlatform/reactive-design-patterns-cn/tree/master/chapter14/src/main/java/chapter14/ResourceEncapsulation.java#L109-L130">Full source at GitHub</a>
<blockquote>
  <p>代码清单 14-5 执行组件和看作工作者节点的 Actor 通信</p>
</blockquote>
<pre class="prettyprint"><code class="language-java">class WorkerNode extends AbstractActor {
  private final Cancellable checkTimer;

  public WorkerNode(InetAddress address, FiniteDuration checkInterval) {
    checkTimer =
        getContext()
            .system()
            .scheduler()
            .schedule(
                checkInterval,
                checkInterval,
                self(),
                DoHealthCheck.instance,
                getContext().dispatcher(),
                self());
  }

  @Override
  public Receive createReceive() {
    List&lt;WorkerNodeMessage&gt; msgs = new ArrayList&lt;&gt;();
    return receiveBuilder()
        .match(WorkerNodeMessage.class, msgs::add)
        .match(
            DoHealthCheck.class,
            dhc -&gt; {
              /* perform check */
            })
        .match(
            Shutdown.class,
            s -&gt; {
              msgs.forEach(
                  msg -&gt;
                      msg.replyTo()
                          .tell(new WorkerCommandFailed(&quot;shutting down&quot;, msg.id()), self()));
              /* ask Resource Pool to shut down this instance */
            })
        .match(
            WorkerNodeReady.class,
            wnr -&gt; {
              /* send msgs to the worker */
              getContext().become(initialized());
            })
        .build();
  }

  private PartialFunction&lt;Object, BoxedUnit&gt; initialized() {
    /* forward commands and deal with responses from worker node */
    // ...
    return null;
  }

  @Override
  public void postStop() {
    checkTimer.cancel();
  }
}</code></pre><a href="https://github.com/ReactivePlatform/reactive-design-patterns-cn/tree/master/chapter14/src/main/java/chapter14/ResourceEncapsulation.java#L162-L217">Full source at GitHub</a>
<h2><a href="#14-2-资源借贷模式" name="14-2-资源借贷模式" class="anchor"><span class="anchor-link"></span></a>14.2 资源借贷模式</h2>
<blockquote>
  <p>代码清单 14-6 分离资源和任务的管理</p>
</blockquote>
<pre class="prettyprint"><code class="language-java">class WorkerNodeForExecution extends AbstractActor {

  @Override
  public Receive createReceive() {
    List&lt;WorkerNodeMessage&gt; msgs = new ArrayList&lt;&gt;();
    return receiveBuilder()
        .match(WorkerNodeMessage.class, msgs::add)
        .match(
            Shutdown.class,
            s -&gt; {
              msgs.forEach(
                  msg -&gt; {
                    WorkerCommandFailed failMsg =
                        new WorkerCommandFailed(&quot;shutting down&quot;, msg.id());
                    msg.replyTo().tell(failMsg, self());
                  });
            })
        .match(
            WorkerNodeReady.class,
            wnr -&gt; {
              getContext().become(initialized());
            })
        .build();
  }

  private PartialFunction&lt;Object, BoxedUnit&gt; initialized() {
    /* forward commands and deal with responses from worker node */
    // ...
    return null;
  }
}

class WorkNodeForResourcePool extends AbstractActor {
  private final Cancellable checkTimer;

  public WorkNodeForResourcePool(InetAddress address, FiniteDuration checkInterval) {
    checkTimer =
        getContext()
            .system()
            .scheduler()
            .schedule(
                checkInterval,
                checkInterval,
                self(),
                DoHealthCheck.instance,
                getContext().dispatcher(),
                self());
  }

  @Override
  public Receive createReceive() {
    return receiveBuilder()
        .match(
            DoHealthCheck.class,
            dhc -&gt; {
              /* perform check */
            })
        .match(
            Shutdown.class,
            s -&gt; {
              /* Cleans up this resource */
            })
        .build();
  }

  @Override
  public void postStop() {
    checkTimer.cancel();
  }
}</code></pre><a href="https://github.com/ReactivePlatform/reactive-design-patterns-cn/tree/master/chapter14/src/main/java/chapter14/ResourceLoan.java#L24-L93">Full source at GitHub</a>
<h2><a href="#14-3-复杂命令模式" name="14-3-复杂命令模式" class="anchor"><span class="anchor-link"></span></a>14.3 复杂命令模式</h2>
<blockquote>
  <p>代码清单 14-7 批处理作业的基本构成</p>
</blockquote>
<pre class="prettyprint"><code class="language-java">public interface ProcessingLogic {
  PartialResult process(Stream&lt;DataElement&gt; input);
}

//
public interface MergeLogic {
  Result merge(Collection&lt;PartialResult&gt; partialResults);
}

public class BatchJob {
  public final String dataSelector;
  public final ProcessingLogic processingLogic;
  public final MergeLogic mergeLogic;

  public BatchJob(String dataSelector, ProcessingLogic processingLogic, MergeLogic mergeLogic) {
    this.dataSelector = dataSelector;
    this.processingLogic = processingLogic;
    this.mergeLogic = mergeLogic;
  }

  public BatchJob withDataSelector(String selector) {
    return new BatchJob(selector, processingLogic, mergeLogic);
  }
}</code></pre><a href="https://github.com/ReactivePlatform/reactive-design-patterns-cn/tree/master/chapter14/src/main/java/chapter14/ComplexCommand.java#L109-L132">Full source at GitHub</a>
<blockquote>
  <p>代码清单 14-8 通过调用Nashorn JavaScript脚本引擎执行处理逻辑</p>
</blockquote>
<pre class="prettyprint"><code class="language-java">public class PartSuccess implements PartialResult {
  public final int value;

  public PartSuccess(int value) {
    this.value = value;
  }

  @Override
  public String toString() {
    return &quot;ResultSuccess(&quot; + value + &quot;)&quot;;
  }
}

public class PartFailure implements PartialResult {
  public final Throwable failure;

  public PartFailure(Throwable failure) {
    this.failure = failure;
  }

  @Override
  public String toString() {
    return &quot;ResultFailure(&quot; + failure.getMessage() + &quot;)&quot;;
  }
}

public class BatchJobJS {
  public final String dataSelector;
  public final String processingLogic;
  public final String mergeLogic;

  public BatchJobJS(String dataSelector, String processingLogic, String mergeLogic) {
    this.dataSelector = dataSelector;
    this.processingLogic = processingLogic;
    this.mergeLogic = mergeLogic;
  }

  public BatchJobJS withDataSelector(String selector) {
    return new BatchJobJS(selector, processingLogic, mergeLogic);
  }
}

public class WorkerJS {
  private static final ScriptEngine engine = new ScriptEngineManager().getEngineByName(&quot;nashorn&quot;);

  public PartialResult runJob(BatchJobJS job) {
    Invocable invocable = (Invocable) engine;

    try {
      engine.eval(job.processingLogic);
      final Stream&lt;DataElement&gt; input = provideData(job.dataSelector);
      PartialResult result = (PartialResult) invocable.invokeFunction(&quot;process&quot;, input);
      return result;
    } catch (Exception e) {
      return new PartFailure(e);
    }
  }

  private Stream&lt;DataElement&gt; provideData(String selector) {
    /* fetch data from persistent storage in streaming fashion */
    return Stream.of(1, 2, 3).map(DataElement::new);
  }
}</code></pre><a href="https://github.com/ReactivePlatform/reactive-design-patterns-cn/tree/master/chapter14/src/main/java/chapter14/ComplexCommand.java#L43-L105">Full source at GitHub</a>
<blockquote>
  <p>job.js</p>
</blockquote>
<pre class="prettyprint"><code class="language-js">var PartSuccess = Java.type(
    &#39;chapter14.ComplexCommand.PartSuccess&#39;);

var process = function (input) {
    // &#39;input&#39; is a Java 8 Stream
    var value = input.count();
    return new PartSuccess(value);
}</code></pre><a href="https://github.com/ReactivePlatform/reactive-design-patterns-cn/tree/master/chapter14/src/main/resources/chapter14/job.js#L8-L15">Full source at GitHub</a>
<blockquote>
  <p>代码清单 14-9 外部 DSL 使用了不同于宿主编程语言的语法</p>
</blockquote>
<pre class="prettyprint"><code class="language-txt">FOREACH Car (_, _, year, price)
SELECT year ? 1950 &amp;&amp; year &lt; 1960
MEDIAN OF price
REMEMBER AS p

FOREACH Car (make, model, _, price)
SELECT price &gt; p
DISTINCT VALUES OF (make, model)
RETURN AS RESULT</code></pre><a href="https://github.com/ReactivePlatform/reactive-design-patterns-cn/tree/master/chapter14/src/main/resources/chapter14/dsl.txt#L8-L16">Full source at GitHub</a>
<blockquote>
  <p>代码清单 14-10 内部 DSL</p>
</blockquote>
<pre class="prettyprint"><code class="language-java">public static void akkaStreamDSL() {
  RunnableGraph&lt;CompletionStage&lt;Long&gt;&gt; p =
      Source.&lt;DataElement&gt;empty()
          .filter(new InRange(&quot;year&quot;, 1950, 1960))
          .toMat(Sink.fold(0L, new Median&lt;Long&gt;(&quot;price&quot;)), Keep.right());

  Source.&lt;DataElement&gt;empty()
      .map(new Inject&lt;Long&gt;(p, &quot;p&quot;))
      .filter(new Filter(&quot;price &gt; p&quot;))
      .to(
          Sink.fold(
              Collections.emptySet(), new DistinctValues&lt;Pair&lt;String, String&gt;&gt;(&quot;make&quot;, &quot;model&quot;)));
}</code></pre><a href="https://github.com/ReactivePlatform/reactive-design-patterns-cn/tree/master/chapter14/src/main/java/chapter14/ComplexCommand.java#L217-L229">Full source at GitHub</a>
<h2><a href="#14-5-托管阻塞模式" name="14-5-托管阻塞模式" class="anchor"><span class="anchor-link"></span></a>14.5 托管阻塞模式</h2>
<blockquote>
  <p>代码清单 14-11 维护一个私有的ExecutorService</p>
</blockquote>
<pre class="prettyprint"><code class="language-java">public enum AccessRights {
  READ_JOB_STATUS,
  SUBMIT_JOB;

  public static final AccessRights[] EMPTY = new AccessRights[] {};
}

public class CheckAccess {
  public final String username;
  public final String credentials;
  public final AccessRights[] rights;
  public final ActorRef replyTo;

  public CheckAccess(
      String username, String credentials, AccessRights[] rights, ActorRef replyTo) {
    this.username = username;
    this.credentials = credentials;
    this.rights = rights;
    this.replyTo = replyTo;
  }
}

public class CheckAccessResult {
  public final String username;
  public final String credentials;
  public final AccessRights[] rights;

  public CheckAccessResult(CheckAccess ca, AccessRights[] rights) {
    this.username = ca.username;
    this.credentials = ca.credentials;
    this.rights = rights;
  }
}

public class AccessService extends AbstractActor {
  private final ExecutorService pool;
  private final DataSource db;

  public AccessService(DataSource db, int poolSize, int queueSize) {
    this.db = db;
    pool = new ThreadPoolExecutor(0, poolSize, 60, SECONDS, new LinkedBlockingDeque&lt;&gt;(queueSize));
  }

  @Override
  public Receive createReceive() {
    final ActorRef self = self();
    return ReceiveBuilder.create()
        .match(
            CheckAccess.class,
            ca -&gt; {
              try {
                pool.execute(() -&gt; checkAccess(db, ca, self));
              } catch (RejectedExecutionException e) {
                ca.replyTo.tell(new CheckAccessResult(ca, AccessRights.EMPTY), self);
              }
            })
        .build();
  }

  @Override
  public void postStop() {
    pool.shutdownNow();
  }

  private static void checkAccess(DataSource db, CheckAccess ca, ActorRef self) {
    try (Connection conn = db.getConnection()) {
      final ResultSet result = conn.createStatement().executeQuery(&quot;&lt;get access rights&gt;&quot;);
      final List&lt;AccessRights&gt; rights = new LinkedList&lt;&gt;();
      while (result.next()) {
        rights.add(AccessRights.valueOf(result.getString(0)));
      }
      ca.replyTo.tell(new CheckAccessResult(ca, rights.toArray(AccessRights.EMPTY)), self);
    } catch (Exception e) {
      ca.replyTo.tell(new CheckAccessResult(ca, AccessRights.EMPTY), self);
    }
  }
}</code></pre><a href="https://github.com/ReactivePlatform/reactive-design-patterns-cn/tree/master/chapter14/src/main/java/chapter14/ManagedBlocking.java#L27-L103">Full source at GitHub</a>
</div>
<div>
<a href="https://github.com/ReactivePlatform/reactive-design-patterns-cn/tree/master/docs/src/paradox/chapter-14/index.md" title="Edit this page" class="md-source-file md-edit">
Edit this page
</a>
</div>
<div class="print-only">
<span class="md-source-file md-version">
1.0.0
</span>
</div>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-nav">
<nav class="md-footer-nav__inner md-grid">
<a href="../chapter-13/index.html" title="第13章——复制模式" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
</div>
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
Previous
</span>
第13章——复制模式
</span>
</div>
</a>
<a href="../chapter-15/index.html" title="第15章——消息流模式" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
Next
</span>
第15章——消息流模式
</span>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
</div>
</a>
</nav>
</div>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
Powered by
<a href="https://github.com/lightbend/paradox">Paradox</a>
and
<a href="https://jonas.github.io/paradox-material-theme/">Paradox Material Theme</a>

</div>
</div>
</div>
</footer>

</div>
<script src="../assets/javascripts/application.5165553b.js"></script>
<script src="../assets/javascripts/paradox-material-theme.js"></script>
<script>app.initialize({version:"0.17",url:{base:"../."}})</script>
<script type="text/javascript" src="../lib/prettify/prettify.js"></script>
<script type="text/javascript" src="../lib/prettify/lang-scala.js"></script>
<script type="text/javascript">
document.addEventListener("DOMContentLoaded", function(event) {
window.prettyPrint && prettyPrint();
});
</script>
</body>
</html>
